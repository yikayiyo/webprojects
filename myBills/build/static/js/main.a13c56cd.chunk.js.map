{"version":3,"sources":["components/BillTable/index.jsx","components/BillForm/index.jsx","mock/data.js","mock/index.js","App.js","reportWebVitals.js","index.js"],"names":["BillTable","data","this","props","filter","month","year","category","bill","Date","time","getFullYear","getMonth","pay","revenue","type","amount","console","log","length","className","map","d","toLocaleDateString","nanoid","Component","BillForm","state","handleChange","bind","handleClick","categoryRef","React","createRef","e","target","name","value","setState","toFixed","isNaN","alert","current","now","addBill","categories","htmlFor","onChange","ref","id","placeholder","onClick","Bills","Categories","m","Map","set","c","get","Years","tmp","Set","forEach","add","Array","from","getYearRange","App","useState","bills","setBills","years","setYears","setMonth","setYear","setCategory","y","i","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a13c56cd.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport \"./index.css\";\r\n\r\nclass BillTable extends Component {\r\n  render() {\r\n    let { data } = this.props;\r\n    let { month, year, category } = this.props.filter;\r\n\r\n    if (year !== \"all\") {\r\n      data = data.filter((bill) => {\r\n        const d = new Date(bill.time);\r\n        return d.getFullYear() === +year;\r\n      });\r\n    }\r\n\r\n    if (month !== \"all\") {\r\n      data = data.filter((bill) => {\r\n        const d = new Date(bill.time);\r\n        return d.getMonth() + 1 === +month;\r\n      });\r\n    }\r\n\r\n    if (category !== \"all\") {\r\n      data = data.filter((bill) => {\r\n        return bill.category === category;\r\n      });\r\n    }\r\n\r\n    // 金额排序\r\n    // data.sort(function (a, b) {\r\n    //   return a.amount - b.amount;\r\n    // });\r\n\r\n    let pay = 0,\r\n      revenue = 0;\r\n    for (let bill of data) {\r\n      if (bill.type === 0) {\r\n        pay += bill.amount;\r\n      } else {\r\n        revenue += bill.amount;\r\n      }\r\n    }\r\n\r\n    console.log(\r\n      `${year === \"all\" ? \"全部\" : year}年份，${\r\n        month === \"all\" ? \"12个\" : month\r\n      }月，${category === \"all\" ? \"全部\" : category}类别下，共${\r\n        data.length\r\n      }条账单`\r\n    );\r\n\r\n    return (\r\n      <div className=\"bill-wrapper\">\r\n        <div className=\"bill-info\">\r\n          <p>\r\n            {`${year === \"all\" ? \"全部\" : year}年份，${\r\n              month === \"all\" ? \"12个\" : month\r\n            }月，${category === \"all\" ? \"全部\" : category}类别下，共`}\r\n            <span className=\"boldNumber\">{data.length}</span>\r\n            {`条账单`}\r\n          </p>\r\n          <p className=\"payout\">\r\n            支出总金额为: <span>{pay}</span>\r\n          </p>\r\n          <p className=\"revenue\">\r\n            收入总金额为: <span>{revenue}</span>\r\n          </p>\r\n        </div>\r\n        <div className=\"billtable-wrapper\">\r\n          <table className=\"bill\">\r\n            <thead>\r\n              <tr>\r\n                <th>账单类型</th>\r\n                <th>账单分类</th>\r\n                <th>账单时间</th>\r\n                <th>账单金额</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.length !== 0 &&\r\n                data.map((bill) => {\r\n                  const d = new Date(bill.time);\r\n                  return (\r\n                    <tr key={nanoid()}>\r\n                      <td>{bill.type}</td>\r\n                      <td>{bill.category}</td>\r\n                      <td>{d.toLocaleDateString()}</td>\r\n                      <td>{bill.amount}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BillTable;\r\n","import React, { Component } from \"react\";\r\nimport \"./index.css\";\r\n\r\nclass BillForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: 0,\r\n      amount: \"\",\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.categoryRef = React.createRef();\r\n  }\r\n\r\n  handleChange(e) {\r\n    let { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  handleClick() {\r\n    const type = this.state.type * 1;\r\n    const amount = (this.state.amount * 1).toFixed(2) * 1;\r\n    if (amount === 0 || isNaN(amount)) {\r\n      alert(\"请输入数字\");\r\n      this.setState({\r\n        amount: \"\",\r\n      });\r\n      return;\r\n    }\r\n    if (type === 0 && amount < 0) {\r\n      alert(\"支出金额不能为负数\");\r\n      this.setState({\r\n        amount: \"\",\r\n      });\r\n      return;\r\n    }\r\n    const category = this.categoryRef.current.value;\r\n    const bill = {\r\n      type,\r\n      amount,\r\n      category,\r\n      time: Date.now(),\r\n    };\r\n    this.props.addBill(bill);\r\n    this.setState({\r\n      amount: \"\",\r\n    });\r\n    // console.log(bill);\r\n  }\r\n\r\n  render() {\r\n    const categories = this.props.categories;\r\n    return (\r\n      <div className=\"addBill\">\r\n        <p>添加账单</p>\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"type\">\r\n            账单类型：\r\n            <select\r\n              name=\"type\"\r\n              value={this.state.type}\r\n              onChange={this.handleChange}\r\n            >\r\n              <option value=\"0\">支出</option>\r\n              <option value=\"1\">收入</option>\r\n            </select>\r\n          </label>\r\n          <label htmlFor=\"category\">\r\n            账单分类：\r\n            <select name=\"category\" ref={this.categoryRef}>\r\n              {this.state.type &&\r\n                categories.map((category) => {\r\n                  if (category.type) {\r\n                    return (\r\n                      <option key={category.id} value={category.name}>\r\n                        {category.name}\r\n                      </option>\r\n                    );\r\n                  }\r\n                  return null;\r\n                })}\r\n              {!this.state.type &&\r\n                categories.map((category) => {\r\n                  if (!category.type) {\r\n                    return (\r\n                      <option key={category.id} value={category.name}>\r\n                        {category.name}\r\n                      </option>\r\n                    );\r\n                  }\r\n                  return null;\r\n                })}\r\n            </select>\r\n          </label>\r\n          <label htmlFor=\"amount\">\r\n            账单金额：\r\n            <input\r\n              name=\"amount\"\r\n              type=\"text\"\r\n              placeholder=\"请输入数字 :)\"\r\n              value={this.state.amount}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <button onClick={this.handleClick}>添加账单</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BillForm;\r\n","export const Bills = [\r\n  {\r\n    type: 0,\r\n    time: 1561910400000,\r\n    category: \"8s0p77c323\",\r\n    amount: 5400,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1561910400000,\r\n    category: \"0fnhbcle6hg\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1563897600000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 3900,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1564502400000,\r\n    category: \"bsn20th0k2o\",\r\n    amount: 1900,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1564588800000,\r\n    category: \"8s0p77c323\",\r\n    amount: 5400,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1564588800000,\r\n    category: \"0fnhbcle6hg\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1564588800000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 5000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1566316800000,\r\n    category: \"bsn20th0k2o\",\r\n    amount: 2000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1567267200000,\r\n    category: \"8s0p77c323\",\r\n    amount: 5400,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1567267200000,\r\n    category: \"0fnhbcle6hg\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1569772800000,\r\n    category: \"1bcddudhmh\",\r\n    amount: 3000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1569772800000,\r\n    category: \"bsn20th0k2o\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1569772800000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 5000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1569859200000,\r\n    category: \"0fnhbcle6hg\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1572364800000,\r\n    category: \"odrjk823mj8\",\r\n    amount: 3000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1572451200000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 4600,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1572451200000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 3800,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1572537600000,\r\n    category: \"0fnhbcle6hg\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1574179200000,\r\n    category: \"odrjk823mj8\",\r\n    amount: 2000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1574870400000,\r\n    category: \"1bcddudhmh\",\r\n    amount: 3000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1574956800000,\r\n    category: \"8s0p77c323\",\r\n    amount: 5400,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1575043200000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 5000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1575129600000,\r\n    category: \"0fnhbcle6hg\",\r\n    amount: 1500,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577289600000,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 4000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345333184,\r\n    category: \"odrjk823mj8\",\r\n    amount: 2000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345367638,\r\n    category: \"1bcddudhmh\",\r\n    amount: 3000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345378418,\r\n    category: \"j1h1nohhmmo\",\r\n    amount: 800,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345504140,\r\n    category: \"bsn20th0k2o\",\r\n    amount: 1000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345517217,\r\n    category: \"hc5g66kviq\",\r\n    amount: 2000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345576917,\r\n    category: \"8s0p77c323\",\r\n    amount: 5400,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345590283,\r\n    category: \"1bcddudhmh\",\r\n    amount: 3000,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577345789527,\r\n    category: \"3tqndrjqgrg\",\r\n    amount: 3900,\r\n  },\r\n  {\r\n    type: 0,\r\n    time: 1577548800000,\r\n    category: \"8s0p77c323\",\r\n    amount: 5400,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1561910400000,\r\n    category: \"s73ijpispio\",\r\n    amount: 30000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1564502400000,\r\n    category: \"5il79e11628\",\r\n    amount: 1000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1567094400000,\r\n    category: \"1vjj47vpd28\",\r\n    amount: -3000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1567180800000,\r\n    category: \"s73ijpispio\",\r\n    amount: 28000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1569772800000,\r\n    category: \"s73ijpispio\",\r\n    amount: 28000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1569772800000,\r\n    category: \"1vjj47vpd28\",\r\n    amount: 2000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1572451200000,\r\n    category: \"s73ijpispio\",\r\n    amount: 20000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1577345267529,\r\n    category: \"s73ijpispio\",\r\n    amount: 30000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1577345303191,\r\n    category: \"1vjj47vpd28\",\r\n    amount: -10000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1577345317187,\r\n    category: \"5il79e11628\",\r\n    amount: 1000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1577345463930,\r\n    category: \"s73ijpispio\",\r\n    amount: 3000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1577345477581,\r\n    category: \"5il79e11628\",\r\n    amount: 2000,\r\n  },\r\n  {\r\n    type: 1,\r\n    time: 1577345638784,\r\n    category: \"1vjj47vpd28\",\r\n    amount: 2000,\r\n  },\r\n];\r\n\r\nexport const Categories = [\r\n  {\r\n    id: \"1bcddudhmh\",\r\n    type: 0,\r\n    name: \"车贷\",\r\n  },\r\n  {\r\n    id: \"hc5g66kviq\",\r\n    type: 0,\r\n    name: \"车辆保养\",\r\n  },\r\n  {\r\n    id: \"8s0p77c323\",\r\n    type: 0,\r\n    name: \"房贷\",\r\n  },\r\n  {\r\n    id: \"0fnhbcle6hg\",\r\n    type: 0,\r\n    name: \"房屋租赁\",\r\n  },\r\n  {\r\n    id: \"odrjk823mj8\",\r\n    type: 0,\r\n    name: \"家庭用品\",\r\n  },\r\n  {\r\n    id: \"bsn20th0k2o\",\r\n    type: 0,\r\n    name: \"交通\",\r\n  },\r\n  {\r\n    id: \"j1h1nohhmmo\",\r\n    type: 0,\r\n    name: \"旅游\",\r\n  },\r\n  {\r\n    id: \"3tqndrjqgrg\",\r\n    type: 0,\r\n    name: \"日常饮食\",\r\n  },\r\n  {\r\n    id: \"s73ijpispio\",\r\n    type: 1,\r\n    name: \"工资\",\r\n  },\r\n  {\r\n    id: \"1vjj47vpd28\",\r\n    type: 1,\r\n    name: \"股票投资\",\r\n  },\r\n  {\r\n    id: \"5il79e11628\",\r\n    type: 1,\r\n    name: \"基金投资\",\r\n  },\r\n  {\r\n    id: \"5il79e11bkn\",\r\n    type: 1,\r\n    name: \"彩票中奖\",\r\n  },\r\n];\r\n","import { Bills, Categories } from \"./data\";\r\n\r\n/*\r\n  Bills中category字段从id映射到name\r\n*/\r\nlet m = new Map();\r\n\r\nfor (let category of Categories) {\r\n  m.set(category.id, category.name);\r\n}\r\n\r\nfor (let bill of Bills) {\r\n  let c = bill.category;\r\n  bill.category = m.get(c);\r\n}\r\n\r\n// 获取账单的年份，用来渲染年份筛选的选项\r\nfunction getYearRange(Bills) {\r\n  let tmp = new Set();\r\n  Bills.forEach((bill) => {\r\n    tmp.add(new Date(bill.time).getFullYear());\r\n  });\r\n  return Array.from(tmp);\r\n}\r\n\r\nconst Years = getYearRange(Bills);\r\n\r\nexport { Bills, Categories, Years };\r\n","import BillTable from \"./components/BillTable\";\nimport BillForm from \"./components/BillForm\";\nimport { Bills, Categories, Years } from \"./mock\";\nimport { useState } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport \"./App.css\";\n\nfunction App() {\n  const [bills, setBills] = useState(Bills);\n\n  // year range\n  const [years, setYears] = useState(Years);\n\n  // filters\n  const [month, setMonth] = useState(\"all\");\n  const [year, setYear] = useState(\"all\");\n  const [category, setCategory] = useState(\"all\");\n\n  function handleAddBill(bill) {\n    setBills([...bills, bill]);\n    const y = new Date(bill.time).getFullYear();\n    for (let i = 0; i < years.length; i++) {\n      if (years[i] === y) {\n        return;\n      }\n    }\n    // 如果是新的年份要更新years\n    setYears([...years, y]);\n    // console.log(years);\n  }\n\n  function handleMonthChange(e) {\n    setMonth(e.target.value);\n  }\n\n  function handleYearChange(e) {\n    setYear(e.target.value);\n  }\n\n  function handleCategoryChange(e) {\n    setCategory(e.target.value);\n  }\n\n  // useEffect(() => {\n  //   console.log(\"App 挂载|更新了\");\n  // });\n\n  return (\n    <div className=\"App\">\n      <h3>我的记账本</h3>\n      <BillForm addBill={handleAddBill} categories={Categories} />\n      <div className=\"filter-wrapper\">\n        <label htmlFor=\"year-filter\">\n          年份筛选：\n          <select name=\"year\" value={year} onChange={handleYearChange}>\n            <option value=\"all\">All</option>\n            {years.length !== 0 &&\n              years.map((year) => {\n                return (\n                  <option key={nanoid()} value={year}>\n                    {year}\n                  </option>\n                );\n              })}\n          </select>\n        </label>\n        <label htmlFor=\"month-filter\">\n          月份筛选：\n          <select name=\"month\" value={month} onChange={handleMonthChange}>\n            <option value=\"all\">All</option>\n            <option value=\"1\">January</option>\n            <option value=\"2\">February</option>\n            <option value=\"3\">March</option>\n            <option value=\"4\">April</option>\n            <option value=\"5\">May</option>\n            <option value=\"6\">June</option>\n            <option value=\"7\">July</option>\n            <option value=\"8\">August</option>\n            <option value=\"9\">September</option>\n            <option value=\"10\">October</option>\n            <option value=\"11\">November</option>\n            <option value=\"12\">December</option>\n          </select>\n        </label>\n        <label htmlFor=\"category-filter\">\n          类别筛选：\n          <select\n            name=\"category\"\n            value={category}\n            onChange={handleCategoryChange}\n          >\n            <option value=\"all\">All</option>\n            {Categories.length !== 0 &&\n              Categories.map((category) => {\n                return (\n                  <option key={nanoid()} value={category.name}>\n                    {category.name}\n                  </option>\n                );\n              })}\n          </select>\n        </label>\n      </div>\n      {bills.length === 0 ? (\n        \"没有账单数据\"\n      ) : (\n        <BillTable data={bills} filter={{ month, year, category }} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}